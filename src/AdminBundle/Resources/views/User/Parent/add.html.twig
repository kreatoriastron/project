{% extends "base.html.twig" %}
 {% block body %}
     {{ parent() }}
         <!-- BEGIN CONTENT -->
         <div class="page-content-wrapper">
             <div class="page-content">
                 <!-- BEGIN PAGE HEAD -->
                 <div class="page-head">
                     <!-- BEGIN PAGE TITLE -->
                     <div class="page-title">
                         <h1>Administracja <small>Rodzice</small></h1>
                     </div>
                     <!-- END PAGE TITLE -->
                 </div>
                 <!-- END PAGE HEAD -->
                 <!-- BEGIN PAGE BREADCRUMB -->
                 <ul class="page-breadcrumb breadcrumb">
                     <li>
                         <a href="javascript:;">Administracja</a><i class="fa fa-circle"></i>
                     </li>
                     <li class="active">
                         Rodzice
                     </li>
                 </ul>
                 <!-- END PAGE BREADCRUMB -->
                 <!-- BEGIN PAGE CONTENT INNER -->
                 <div id="mainBox">
                     <div id="addUser" class="portlet box green">
                         <div class="portlet-title">
                             <div class="caption">
                                 <i class="fa fa-user-plus"></i>Dodawanie rodzica
                             </div>
                         </div>
                         <div class="portlet-body form">
                             <!-- BEGIN FORM-->
                             <form action="{{ path('add_parent') }}" method="post" enctype="multipart/form-data" class="form-horizontal" novalidate="novalidate" id="add">
                                 <div class="alert alert-danger display-hide">
                                     <button class="close" data-close="alert"></button>
                                     Proszę poprawić błędy w formularzu!
                                 </div>
                                 <div class="form-body">
                                     <div class="form-group">
                                         <label class="col-md-3 control-label">Imię rodzica</label>
                                         <div class="col-md-4">
                                             <input type="text" class="form-control input-circle" name="name" placeholder="Imię rodzica">
                                         </div>
                                     </div>
                                     <div class="form-group">
                                         <label class="col-md-3 control-label">Nazwisko rodzica</label>
                                         <div class="col-md-4">
                                             <input type="text" class="form-control input-circle" name="surname" placeholder="Nazwisko rodzica">
                                         </div>
                                     </div>
                                     <div class="form-group">
                                         <label class="col-md-3 control-label">Adres Email</label>
                                         <div class="col-md-4">
                                             <div class="input-group">
                                                                <span class="input-group-addon input-circle-left">
                                                                <i class="fa fa-envelope"></i>
                                                                </span>
                                                 <input type="email" class="form-control input-circle-right" name="email" placeholder="Adres Mailowy">
                                             </div>
                                         </div>
                                     </div>
                                     <div class="form-group">
                                         <label class="col-md-3 control-label">Telefon</label>
                                         <div class="col-md-4">
                                             <div class="input-group">
                                                 <span class="input-group-addon input-circle-left">
                                                                <i class="fa fa-phone"></i>
                                                 </span>
                                                 <input type="text" class="form-control input-circle-right" name="phone" placeholder="Telefon">
                                             </div>
                                         </div>
                                     </div>
                                     <div class="form-group">
                                         <label class="col-md-3 control-label">Stawka</label>
                                         <div class="col-md-4">
                                             <div class="input-group">
                                                 <span class="input-group-addon input-circle-left">
                                                                <i class="fa fa-dollar"></i>
                                                 </span>
                                                 <input type="text" class="form-control input-circle-right" name="cost" placeholder="Stawka">
                                             </div>
                                         </div>
                                     </div>
                                     <div class="form-group">
                                         <label class="col-md-3 control-label">Imię dziecka</label>
                                         <div class="col-md-4">
                                             <input type="text" class="form-control input-circle" name="child_name" placeholder="Imię dziecka">
                                         </div>
                                     </div>
                                     <div class="form-group">
                                         <label class="col-md-3 control-label">Nazwisko dziecka</label>
                                         <div class="col-md-4">
                                             <input type="text" class="form-control input-circle" name="child_surname" placeholder="Nazwisko dziecka">
                                         </div>
                                     </div>
                                     <div class="form-group">
                                         <label class="col-md-3 control-label">Szkoła</label>
                                            <div class="col-md-4">
                                                 <input type="text" class="form-control input-circle" name="school" placeholder="Szkoła">
                                            </div>
                                         </div>
                                     </div>
                                    <div class="form-group">
                                         <label class="col-md-3 control-label">Szkoła select</label>
                                        <div class="col-md-4">
                                            <a class="btn default" data-target="#selectSchool" data-toggle="modal">
                                                Wybierz szkołę </a>
                                        </div>
                                    </div>
                                     <div class="form-group">
                                         <label class="col-md-3 control-label">Klasa cyfra</label>
                                         <div class="col-md-4">
                                             <input type="text" class="form-control input-circle" name="class_digit" placeholder="Klasa cyfra">
                                         </div>
                                     </div>
                                     <div class="form-group">
                                         <label class="col-md-3 control-label">Klasa litera</label>
                                         <div class="col-md-4">
                                             <input type="text" class="form-control input-circle" name="class_letter" placeholder="Klasa litera">
                                         </div>
                                     </div>
                                     <div class="form-group">
                                         <label class="col-md-3 control-label">Umowa</label>
                                         <div class="col-md-4">
                                             <div class="custom-file-upload">
                                                 <label for="file-upload" class="custom-file-upload">
                                                     <i class="fa fa-cloud-upload"></i> Dodaj umowę
                                                 </label>
                                                 <input id="file-upload" name="contract" type="file"/>
                                             </div>
                                         </div>
                                     </div>
                                     <div>
                                         <div class="row" style="padding-bottom:10px;">
                                             <div class="col-md-offset-3 col-md-9 p-xl">
                                                 <button type="submit" class="btn btn-circle blue" id="add_user">Dodaj rodzica</button>
                                             </div>
                                          </div>
                                      </div>
                             </form>
                         </div>
                     </div>
                 </div>
                 <div id="modalContainer">
                     <div id="selectSchool" class="modal fade" tabindex="-1" data-focus-on="input:first" aria-hidden="true">
                         <div class="modal-header">
                             <button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
                             <h4 class="modal-title">Wybór szkoły</h4>
                         </div>
                         <div class="modal-body">
                             <label>Wybierz miasto</label>
                             <p>
                                 <select id="select_city" placeholder="Miasto">
                                    {% for city in cities %}
                                        <option value="{{ city.id }}">{{  }}</option>
                                     {%  endfor %}
                                 </select>
                             </p>
                         </div>
                         <label>Wybierz szkołę</label>
                         <p>
                             <select id="select_school" name="school" placeholder="Szkoła"></select>
                         </p>
                     </div>
                         <div class="modal-footer">
                             <button type="button" data-dismiss="modal" class="btn btn-default">Anuluj</button>
                             <button type="button" class="btn btn-primary">Wybierz</button>
                         </div>
                     </div>
                 </div>
             </div>
         </div>
 {% endblock %}
 {%  block stylesheets %}
     {{  parent () }}
     <link rel="stylesheet" type="text/css" href="{{ asset('assets/global/plugins/selectize/selectize.css') }}">
     <link rel="stylesheet" type="text/css" href="{{ asset('assets/global/plugins/bootstrap-modal/css/bootstrap-modal-bs3patch.css') }}">
     <link rel="stylesheet" type="text/css" href="{{ asset('assets/global/plugins/bootstrap-modal/css/bootstrap-modal.css') }}">
 {% endblock %}
 {% block javascripts %}
     {{  parent() }}
     <script src="{{ asset('assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.js') }}" type="text/javascript"></script>
     <script type="text/javascript" src="{{ asset('assets/global/plugins/select2/select2.min.js') }}"></script>
     <script src="{{ asset('assets/global/plugins/jquery-validation/js/jquery.validate.min.js') }}" type="text/javascript"></script>
     <script src="{{ asset('assets/global/plugins/jquery-validation/js/additional-methods.min.js') }}" type="text/javascript"></script>
     <script src="{{ asset('bundles/admin/js/User/Parent/validation/add-validation.js') }}" type="text/javascript"></script>
     <script type="text/javascript" src="{{ asset('assets/global/plugins/selectize/selectize.js') }}"></script>
     <script type="text/javascript" src="{{ asset('assets/global/plugins/bootstrap-modal/js/bootstrap-modalmanager.js') }}"></script>
     <script type="text/javascript" src="{{ asset('assets/global/plugins/bootstrap-modal/js/bootstrap-modal.js') }}"></script>
     <script>
         $(document).ready(function(){
             var xhr;
             var select_city, $select_city;

             $select_city = $('#select_city').selectize({
                 onChange: function(value) {
                     if (!value.length) return;
                     select_city.disable();
                     select_city.clearOptions();
                     select_city.load(function(callback) {
                         xhr && xhr.abort();
                         xhr = $.ajax({
                             url: 'http://www.corsproxy.com/api.sba.gov/geodata/primary_city_links_for_state_of/' + value + '.json',
                             success: function(results) {
                                 select_city.enable();
                                 callback(results);
                             },
                             error: function() {
                                 callback();
                             }
                         })
                     });
                 }
             });
            FormValidation.init('{{ path('add_parent') }}');
             jQuery.extend(jQuery.validator.messages, {
                 required: "To pole jest wymagane",
                 email: "Proszę podać poprawny adres mailowy",
                 number: "Proszę podać poprawny numer telefonu",
                 digits: "Proszę podać cyfrę",
                 lettersonly: "Proszę podać literę"
             });
         })
     </script>
 {% endblock %}

